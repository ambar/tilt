<!doctype html>

<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Motion Events</title>
    
    <meta name="description" content="impress.js is a presentation tool based on the power of CSS3 transforms and transitions in modern browsers and inspired by the idea behind prezi.com." />
    <meta name="author" content="Bartek Szopka" />

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />

    
    <link href="css/impress-demo.css" rel="stylesheet" />
    
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    </style>
</head>
<body>

<div id="impress" class="impress-not-supported">

    <div class="fallback-message">
        <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
        <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser. Upcoming version 10 of Internet Explorer <i>should</i> also handle it.</p>
    </div>

<div id="head" class="step slide" data-x="-4000" data-y="-1500">
    <h1>Device Motion</h1>
    <ul>
        <li>三个硬件</li>
        <li>三种事件</li>
    </ul>
</div>

<div id="illustrate" class="step slide" data-x="-3000" data-y="-1500" >
<h1>图解</h1>
</div>

<div id="coord" class="step slide" data-x="-3000" data-y="-2500">
<div>
    <img src="shot/axes.png" alt="start orientation">
    <p>Device coordinate frame</p>
</div>
</div>

<div id="alpha" class="step slide" data-x="-3000" data-y="-3500">
<div>
    <img src="shot/alpha.png" alt="rotation about z axis">
    <h2>twisting</h2>
    <p><strong>alpha</strong> => Rotation around the z axis</p>
</div>
</div>

<div id="beta" class="step slide" data-x="-3000" data-y="-4500">
  <div>
    <img src="shot/beta.png" alt="rotation about x axis">
    <h2>front-back tilt</h2>
    <p><strong>beta</strong> => Rotation around the x axis</p>
  </div>
</div>

<div id="gamma" class="step slide" data-x="-3000" data-y="-5500">
  <div>
    <img src="shot/gamma.png" alt="rotation about y axis">
    <h2>left-right tilt</h2>
    <p><strong>gamma</strong> => Rotation around the y axis</p>
  </div>
</div>

<div id="code" class="step slide" data-x="-2000" data-y="-1500" >
<h1>代码</h1>
</div>

<div id="orientation" class="step slide" data-x="-2000" data-y="-2500">
<h2>设备姿态</h2>
<pre><code class="javascript">
window.addEventListener( 'orientationchange', function(e) {

    var orientation = window.orientation
    /*
    * => 
    * 0     正面放置
    * 90    向左横置
    * -90   向右横置
    * */

})
</code></pre>
</div>

<div id="gyro" class="step slide" data-x="-2000" data-y="-3500">
<h2>三轴陀螺仪、指南针</h2>
<pre><code class="java">
window.addEventListener( 'deviceorientation', function(e) {
    // front-back tilt [ -180, 180 ] ? [ -90, 90 ] ?
    e.beta
    // left-right tilt [ -90, 90 ]
    e.gamma
    // 水平转动，同指南针  [ 0, 360 ] 逆时针增加度数
    e.alpha
    
    // 指南针 [ 0, 360 ] 正北为 0 ，顺时针增加度数
    e.webkitCompassHeading
})
</code></pre>
</div>


<div id="accel" class="step slide" data-x="-2000" data-y="-4500">
<h2>加速感应器</h2>
<pre><code class="javascript">
window.addEventListener( 'devicemotion', function(e) {
    var accel = e.accelerationIncludingGravity

    // 向右加速度
    accel.x
    // 向前加速度
    accel.y
    // 向上加速度
    accel.z
})

</code></pre>
</div>


<div id="tips" class="step slide" data-x="-2000" data-y="-5500">

<h2>几条技巧</h2>


<p><br>使用 touch ，而不是 click<br>
<a href="http://blog.jqtouch.com/post/205113875/milliseconds-responsiveness-and-the-fast-tap">Milliseconds Responsiveness and the Fast Tap</a>

<br><br>全屏，添加到主屏幕
<pre><code>&lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot; &#x2F;&gt;</code></pre>

<br>屏幕缩放或自适应
<pre><code>&lt;meta name=&quot;viewport&quot; content=&quot;
    width=device-width; initial-scale=.8; &quot; &#x2F;&gt; 
</code></pre>

<br>隐藏地址栏
<pre><code class="javascript">window.scrollTo(0, 1)</code></pre>
</p>

</div>



<div id="app" class="app step slide" data-x="-1000" data-y="-1500" >
<h1>应用</h1>
</div>

<div class="app step slide" data-x="-1000" data-y="-2500" >
<h2>doodle jump</h2>
<p><img src="shot/doodle-jump.jpg" alt=""></p>
</div>

<div class="app step slide" data-x="-1000" data-y="-3500" >
<h2>dead raid</h2>
<p><img src="shot/dead-raid.jpg" alt=""></p>
<p>增强现实（Augmented Reality）</p>
</div>

<div class="app step slide" data-x="-1000" data-y="-4500" >
<h2>x-rat</h2>
<p><img src="shot/x-rat.jpg" alt=""></p>
</div>

<div class="app step slide" data-x="-1000" data-y="-5500" >
<h2>tilt to live</h2>
<p><img src="shot/tilt-to-live.jpg" alt=""></p>
<p>&raquo; template run, boost 2</p>
</div>

<div class="app step slide" data-x="-1000" data-y="-6500" >
<div class="fl">
    <h2>motion ruler</h2>
    <p><img src="shot/motion-ruler.jpg" alt=""></p>
</div>
<div class="fl">
    <h2>iHandy Level</h2>
    <p><img src="shot/ihandy-level.jpg" alt=""></p>
</div>
</div>

<div class="app step slide" data-x="-1000" data-y="-7500" >
<div class="fl">
    <h2>weixin</h2>
    <p><img src="shot/weixin.png" alt=""></p>
</div>
<div class="fl">
    <h2>bump</h2>
    <p><img src="shot/bump.jpg" alt=""></p>
</div>
</div>

<div class="app step slide" data-x="-1000" data-y="-8500" >
<h2>iOS redo &amp; undo</h2>
<p><img src="shot/ios.png" alt=""> <img src="shot/ios-redo.png" alt=""></p>
</div>

<div class="app step slide" data-x="-1000" data-y="-9500" >
<h2>instapaper</h2>
<p><img src="shot/instapaper.png" alt=""> </p>
</div>

<div id="demo" class="step" data-x="2200" data-y="1100" data-scale="12">
    <h1>Demo</h1>
</div>

<div id="compass" class="step" data-x="3300" data-y="2200" data-rotate="-90" data-scale="5">
    <h2>iCompass</h2>
    <p><a href="http://lj-mbp:8000/icompass">http://lj-mbp:8000/icompass</a></p>
</div>

<div id="tilt" class="step" data-x="2200" data-y="3300" data-z="-400" data-rotate-x="60" data-rotate="90" data-scale="6">
    <h2>Tilt Warrior</h2>
    <p><a href="http://lj-mbp:8000/tilt">http://lj-mbp:8000/tilt</a></p>
</div>

<div class="step slide" data-x="3200" data-y="-2000" data-z="-400">
<div class="fl" style="margin-right:30px;">
<pre>
.
├── main.js
├── tilt
│   ├── enemies
│   │   └── dot.js
│   ├── fighter.js
│   ├── game.js
│   ├── wall.js
│   └── weapons
│       ├── bomb.js
│       ├── lightning.js
│       └── wave.js
└── wo
</pre></div>
<div class="fl">
<pre>
.
└── wo
    ├── class.js
    ├── color.js
    ├── entities.js
    ├── events.js
    ├── input.js
    ├── protos.js
    ├── requestAnimationFrame.js
    ├── stage.js
    ├── vector.js
    └── wo.js
</pre>
</div>
</div>

<div class="step slide" data-x="4200" data-y="-2000" data-z="-400">
<pre><code class="javascript">
var Fighter = Entity.extend({
    init : function(x,y,color) {
        this._super(x,y)
        this.color  = color || '#eee'
        this.radian = -Math.PI
    },
    // 状态更新
    update : function(deltaTime) {
        // todo
    },
    // 绘制外形：火影手里剑
    draw : function(ctx) {
        ctx.fillStyle = this.color
        // todo
    }
})
</code></pre>
</div>

<div class="step slide" data-x="5200" data-y="-2000" data-z="-400">
<pre><code class="javascript">
var fighter = new Fighter( 400, 400 , 'sliver' )
var dot = new Dot( 200, 200, 'red' )

dot.on( 'update', function(){
    // todo: 碰撞
})

stage.add( fighter )
stage.add( dot )

stage.run()
</code></pre>
</div>

<div id="end" class="step" data-x="6200" data-y="4400" data-z="6000" data-rotate-x="-40" data-rotate-y="10" data-scale="4">
    <h1>The End</h1>
</div>

<div id="overview" class="step" data-x="3000" data-y="1500" data-scale="20">
</div>

</div>

<!--
    
    Hint is not related to impress.js in any way.
    
    But it can show you how to use impress.js features in creative way.
    
    When the presentation step is shown (selected) it's element get's the class of "active" and `#impress` root
    element get's the class based on active step id `step-ID` (where ID is the step id)... It probably is not
    so clear because of all these IDs in here, so for example when the first step (the one with id of `bored`)
    is active, `#impress` element get a class of `step-bored`.
    
    This class is used by this hint below. Check CSS file to see how it's shown with delayed CSS animation.
    
-->
<div class="hint">
    <p>Use a spacebar or arrow keys to navigate</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>

<script src="js/impress.js"></script>
<script src="js/highlight.pack.js"></script>
<!-- <link rel="stylesheet" href="styles/github.css"> -->
<link rel="stylesheet" href="styles/solarized_dark.css">
<style type="text/css">
    .slide{
        /*font-size:40px;*/
        line-height:1.5;
        background-color:#002B36
    }
    h1,
    #head h2{
        font-size:2em;
        line-height:4em;
    }
    pre code{
        padding: 0;
        font-size:24px;
        font-family:Monaco, Menlo, monospace;
    }
    .slide{
        color: #ddd;
    }
    .slide q{
        line-height:2;
        font-size:20px;
    }
    .app img {
        display: inline-block;
        margin-top: 40px;
        max-height:480px;
    }
    .fl{
        float: left;
        margin-right:1em;
    }
</style>
<script>
impress();

document.addEventListener('DOMContentLoaded',function() {

    [].forEach.call( document.querySelectorAll('pre'), function(code) {
        hljs.highlightBlock(code, '  ', 0) 
    })

})
</script>

<!--
    
    The `impress()` function also gives you access to API to control the presentation.
    
    Just store the result of the call:
    
        var api = impress();
    
    and you will get three functions you can call:
    
        `api.next()` - moves to next step of the presentation,
        `api.prev()` - moves to previous step of the presentation
        `api.goto( stepElement ) - moves the presentation to given step element (the DOM element of the step).
    
    You can also simply call `impress()` again to get the API, so `impress().next()` is also allowed.
    Don't worry, it wont initialize the presentation again.
    
    For some example uses of this API check the last part of the source of impress.js where the API
    is used in event handlers.
    
-->

</body>
</html>